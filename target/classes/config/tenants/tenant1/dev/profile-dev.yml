# Tenant1 - Development Profile
# Development environment settings for Tenant1

infinite-scheduler:
  tenant:
    name: "tenant1"
    profile: "dev"
    description: "Tenant1 for development and testing"
    enabled: true

  # MySQL Database Configuration
  mysql:
    host: "127.0.0.1"
    port: 3306
    database: "scheduler_tenant1_dev"
    username: "root"
    password: "123456"

  # Kafka Configuration
  kafka:
    bootstrap-servers: "localhost:9092"

    # Ingest Configuration
    ingest:
      enabled: false  # Disabled in dev mode
      topic: "Job_Schedule_Tenant1_Dev"
      dlq-topic: "Job_Schedule_Tenant1_DLQ_Dev"
      max-retries: 3
      poll-timeout-ms: 1000

    # Consumer Configuration
    consumer:
      group-id: "infinite-scheduler-tenant1-dev"
      enable-auto-commit: false
      auto-offset-reset: "earliest"
      max-poll-records: 500

  # Repository Configuration (Split-Verse)
  repository:
    database: "scheduler_tenant1_dev"
    table-prefix: "scheduled_jobs"
    retention-days: 7

  # Fetcher Configuration
  fetcher:
    enabled: true
    interval-seconds: 30
    lookahead-seconds: 45
    max-jobs-per-fetch: 1000

  # Cleanup Configuration
  cleanup:
    enabled: true
    interval-hours: 24
    batch-size: 500

  # Quartz Scheduler Configuration
  quartz:
    thread-pool-size: 10
    misfire-threshold-ms: 60000

  # Web UI Configuration
  web:
    enabled: true
    host: "0.0.0.0"
    port: 7071  # Different port for tenant1

  # Monitoring Configuration
  monitoring:
    metrics-enabled: true
    health-enabled: true
    logging-level: "DEBUG"
    log-file: "/var/log/infinite-scheduler/tenant1-dev.log"

# Quarkus Configuration Overrides for this tenant
quarkus:
  http:
    port: 7071  # Different port

  datasource:
    db-kind: mysql
    username: "root"
    password: "123456"
    jdbc:
      url: "jdbc:mysql://127.0.0.1:3306/scheduler_tenant1_dev?useSSL=false&allowPublicKeyRetrieval=true&serverTimezone=UTC"
      min-size: 2
      max-size: 20
      initial-size: 2

  log:
    level: DEBUG
    category:
      "com.telcobright.scheduler": DEBUG
      "org.quartz": INFO

# SmallRye Reactive Messaging Configuration
mp:
  messaging:
    incoming:
      job-schedule:
        connector: smallrye-kafka
        topic: "Job_Schedule_Tenant1_Dev"
        bootstrap.servers: "localhost:9092"
        group.id: "infinite-scheduler-tenant1-dev"

    outgoing:
      sms-send:
        connector: smallrye-kafka
        topic: "SMS_Send_Tenant1_Dev"
        bootstrap.servers: "localhost:9092"
